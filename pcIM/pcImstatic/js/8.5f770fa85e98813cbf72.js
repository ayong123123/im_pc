webpackJsonp([8],{"+mba":function(e,t,a){e.exports=a.p+"pcImstatic/img/shuaxin.414efd4.png"},"2Tm+":function(e,t){},"5PYu":function(e,t,a){e.exports=a.p+"pcImstatic/img/add_friend_icon.8fcec13.png"},"Y/Ag":function(e,t,a){e.exports=a.p+"pcImstatic/img/chat_qunliao.2b41444.png"},"lgc/":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("Dd8w"),s=a.n(r),i=a("NYxO"),n=(a("zL8q"),a("y1Vc")),o=a.n(n),c={data:function(){return{moren:o.a,search:"",friendSearch:"",active:!1,showAddContact:!1,friendList:[],setGroupNameVisible:!1,resetForm:{newBuildGroupName:""},rules2:{newBuildGroupName:[{validator:function(e,t,a){""===t?a(new Error("请输入群聊名称！")):t.length<1||t.length>12?a(new Error("群名必须1至12个字符！")):a()},trigger:"blur"}]}}},methods:s()({upDataMessage:function(){this.getCustomerServiceAction()},checkLength:function(e){var t=e.replace(/[\u4e00-\u9fa5]/g,"");return 2*(e.length-t.length)+t.length<=24},resetName:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;t.setGroupNameVisible=!1,t.setNewBuildGroupName(t.resetForm.newBuildGroupName),t.setModalState("AddContactState"),t.setIsAddUser(!1)})},openAddFriendFn:function(){this.setModalState("AddFriendState"),this.chatListStore.SearchFriendList.data={}},openQunliao:function(){},change:function(){this.searchUser(this.search)},del:function(){this.search="",this.change()}},Object(i.d)(["setModalState","setIsAddUser","setNewBuildGroupName"]),Object(i.b)(["searchUser","searchFriendListAction","addMyFriendAction","getFriendInfoAction","getFriendList","getGroupChatList","getCustomerServiceAction"])),computed:s()({},Object(i.e)(["chatListStore","chatuserInfoStore","friendsListStore"]),Object(i.c)(["getUserId"]),{noText:function(){return""===this.search},haveText:function(){return""!==this.search}}),created:function(){this.getGroupChatList({self_uid:this.getUserId})}},l={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"wrapper"},["chat"==e.$route.name?r("div",{staticClass:"search-wrapper",staticStyle:{padding:"0"}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],staticClass:"searchInput",attrs:{type:"text",placeholder:"搜索"},domProps:{value:e.search},on:{keyup:e.change,input:function(t){t.target.composing||(e.search=t.target.value)}}}),e._v(" "),r("i",{directives:[{name:"show",rawName:"v-show",value:e.noText,expression:"noText"}],staticClass:"icon iconfont icon-search"}),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:e.haveText,expression:"haveText"}],staticClass:"searchInput-delete",on:{click:e.del}})]):e._e(),e._v(" "),"friend"==e.$route.name?r("div",{staticClass:"search-wrapper",staticStyle:{"background-color":"#E7E7E7",border:"none",padding:"0"}},[r("select",{directives:[{name:"model",rawName:"v-model",value:e.friendsListStore.friendPageSearchState,expression:"friendsListStore.friendPageSearchState"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.friendsListStore,"friendPageSearchState",t.target.multiple?a:a[0])}}},[r("option",{attrs:{value:"0"}},[e._v("全部")]),e._v(" "),r("option",{attrs:{value:"1"}},[e._v("群聊")]),e._v(" "),r("option",{attrs:{value:"2"}},[e._v("客服")]),e._v(" "),r("option",{attrs:{value:"3"}},[e._v("好友")])]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.friendsListStore.friendPageSearch,expression:"friendsListStore.friendPageSearch"}],staticClass:"searchInput",staticStyle:{"margin-left":"5px",width:"100px",height:"26px"},attrs:{type:"text",placeholder:"搜索"},domProps:{value:e.friendsListStore.friendPageSearch},on:{input:function(t){t.target.composing||e.$set(e.friendsListStore,"friendPageSearch",t.target.value)}}})]):e._e(),e._v(" "),1==e.chatuserInfoStore.loginData.is_admin?r("div",{staticClass:"add-user",on:{click:function(t){return t.stopPropagation(),e.setModalState("searchMoreState")}}},[r("div")]):e._e(),e._v(" "),r("transition",{attrs:{name:"showbox"}},[e.chatListStore.searchMoreState?r("div",{staticClass:"more-option",on:{click:function(t){return t.stopPropagation(),e.setModalState("searchMoreState")}}},[r("div",{staticClass:"point",on:{click:function(t){e.setGroupNameVisible=!0,e.resetForm.newBuildGroupName=""}}},[r("img",{attrs:{src:a("Y/Ag"),alt:""}}),r("span",[e._v("发起群聊")])]),e._v(" "),r("div",{staticClass:"point",on:{click:e.openAddFriendFn}},[r("img",{attrs:{src:a("5PYu"),alt:""}}),e._v(" "),r("span",[e._v("添加朋友")])]),e._v(" "),r("div",{staticClass:"point",on:{click:e.upDataMessage}},[r("img",{attrs:{src:a("+mba"),alt:""}}),e._v(" "),r("span",[e._v("消息同步")])])]):e._e()]),e._v(" "),r("el-dialog",{staticClass:"resetpwd-wrap",attrs:{title:"设置群聊名称",visible:e.setGroupNameVisible,width:"400px",center:""},on:{"update:visible":function(t){e.setGroupNameVisible=t}}},[r("div",{staticClass:"resetpwd-box"},[r("el-form",{ref:"resetForm",staticClass:"demo-ruleForm",attrs:{model:e.resetForm,"status-icon":"",rules:e.rules2}},[r("el-form-item",{attrs:{label:"群聊名称：",prop:"newBuildGroupName"}},[r("el-input",{attrs:{type:"text",placeholder:"请输入群聊名称"},model:{value:e.resetForm.newBuildGroupName,callback:function(t){e.$set(e.resetForm,"newBuildGroupName",t)},expression:"resetForm.newBuildGroupName"}})],1),e._v(" "),r("el-form-item",{staticClass:"footer"},[r("el-button",{on:{click:function(t){e.setGroupNameVisible=!1}}},[e._v("取 消")]),e._v(" "),r("el-button",{staticStyle:{"margin-left":"30px"},attrs:{type:"primary"},on:{click:function(t){return e.resetName("resetForm")}}},[e._v("下一步")])],1)],1)],1)])],1)},staticRenderFns:[]};var u=a("VU/8")(c,l,!1,function(e){a("2Tm+")},"data-v-632a1811",null);t.default=u.exports}});