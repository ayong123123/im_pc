webpackJsonp([27],{Nihr:function(t,e){},arws:function(t,e,s){t.exports=s.p+"pcImstatic/img/red_transfer_icon.8056ef3.png"},rVxX:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("Dd8w"),i=s.n(a),n=s("NYxO"),r=s("zL8q"),c=s("F+jZ"),o=s("SQjO"),g={props:["msg"],data:function(){return{getTimes:c.d,config:o.a,errorTimer:null}},computed:i()({},Object(n.c)(["selectedChat","getUserId","getGroupRemarkName"]),{chatObj:function(){return JSON.parse(this.msg.content)}},Object(n.e)(["chatListStore","chatuserInfoStore","msgListStore"])),beforeDestroy:function(){clearTimeout(this.errorTimer)},created:function(){var t=this;this.errorTimer=setTimeout(function(){t.setError()},1e4)},mounted:function(){},watch:{},methods:i()({setError:function(){this.msg.code&&3!=this.msg.code||this.msg.status!=this.config.MSG_STATUS_SED||(this.msg.status=this.config.MSG_STATUS_ERROR,clearTimeout(this.errorTimer))},chongFa:function(){var t=this;(this.msg.send_uid&&this.msg.send_uid==this.getUserId||this.msg.userMsg&&this.msg.status==this.config.MSG_STATUS_ERROR)&&this.$confirm("是否重发该消息?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$emit("reSendMessage",t.msg)}).catch(function(){})},findUser:function(t){this.$emit("setFindUser",t)}},Object(n.d)(["setRedSendUidType","setSendRedPackMessage","setModalState","setGetOrCheck"]),Object(n.b)(["getRedPackAction","firstGrabRedEnvelopeAction","getTransferDetail"]),{getRedPackFn:function(){if(Object(c.c)("token")){var t=JSON.parse(this.msg.content).id||"";localStorage.setItem("transferId",t),this.setModalState("transferDetail")}else Object(r.Message)({message:"提示:请重新登录",type:"warning",showClose:!0})}}),filters:{time:function(t){return"string"==typeof t&&(t=new Date(t)),t.getMinutes()<10?t.getHours()+":0"+t.getMinutes():t.getHours()+":"+t.getMinutes()}}},m={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"time"},[t.msg.showTime?t._e():a("span",[t._v(t._s(t.getTimes(t.msg.create_time)))])]),t._v(" "),a("div",{staticClass:"main",class:{self:t.msg.userMsg||t.msg.send_uid==t.getUserId}},[t.msg.userMsg||t.msg.send_uid==t.getUserId?a("span",{staticClass:"chat-username"},[a("wx-level",{attrs:{msg:t.msg}}),t._v(t._s(t.chatuserInfoStore.dataGetInfo.nickname)+"\n  ")],1):1==t.msgListStore.activeTyep?a("span",{staticClass:"chat-username"},[t._v("\n    "+t._s(t.msgListStore.activeName)),a("wx-level",{attrs:{msg:t.msg}})],1):a("span",{staticClass:"chat-username"},[t._v("\n    "+t._s(t.getGroupRemarkName({uid:t.msg.asFrom,send_uid:t.msg.send_uid})||t.msg.nickname||t.msg.username)),a("wx-level",{attrs:{msg:t.msg}})],1),t._v(" "),t.msg.head_portrait?a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.msg.head_portrait,expression:"msg.head_portrait"}],staticClass:"avatar",attrs:{width:"36",height:"36"},on:{click:function(e){return t.findUser(t.msg)}}}):t.msg.send_uid==t.getUserId?a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.chatuserInfoStore.dataGetInfo.head_portrait,expression:"chatuserInfoStore.dataGetInfo.head_portrait"}],staticClass:"avatar",attrs:{width:"36",height:"36"},on:{click:function(e){return t.findUser(t.msg)}}}):a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.selectedChat.user.img,expression:"selectedChat.user.img"}],staticClass:"avatar",attrs:{width:"36",height:"36"},on:{click:function(e){return t.findUser(t.msg)}}}),t._v(" "),a("div",{staticClass:"chat-red-pack chat-content-dom"},[a("div",{staticClass:"red-envelopes",class:{opacity:t.msg.redState},on:{click:t.getRedPackFn}},[a("img",{attrs:{src:s("arws"),alt:"",width:"52",height:"52"}}),t._v(" "),a("div",{staticClass:"red-envelopes-message"},[a("div",{staticClass:"long-text",staticStyle:{"font-size":"18px","margin-top":"0"}},[t._v("¥"+t._s(t.chatObj.amount))]),t._v(" "),t.chatObj.topic?a("div",{staticClass:"long-text",staticStyle:{"font-size":"15px","margin-top":"0"}},[t._v(t._s(t.chatObj.topic))]):t.msg.userMsg||t.msg.send_uid==t.getUserId?a("div",{staticClass:"long-text",staticStyle:{"font-size":"15px","margin-top":"0"}},[t._v("转账给"+t._s(t.msgListStore.activeName))]):a("div",{staticClass:"long-text",staticStyle:{"font-size":"15px","margin-top":"0"}},[t._v("转账给你")])])]),t._v(" "),a("p",[t._v("\n                转账\n            ")]),t._v(" "),t.msg.status==t.config.MSG_STATUS_SED?a("i",{staticClass:"el-icon-loading chat-loading"}):t._e(),t._v(" "),t.msg.status==t.config.MSG_STATUS_ERROR?a("i",{staticClass:"el-icon-warning chat-loading error",on:{click:function(e){return t.chongFa()}}}):t._e()])])])},staticRenderFns:[]};var d=s("VU/8")(g,m,!1,function(t){s("Nihr")},"data-v-4875fa0e",null);e.default=d.exports}});