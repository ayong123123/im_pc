webpackJsonp([14],{JjPx:function(e,t){},RTuz:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s("Dd8w"),n=s.n(i),r=s("NYxO"),a=s("F+jZ"),o=s("SQjO"),c={props:["msg","forbiddenInfo"],computed:n()({},Object(r.c)(["getUserId","selectedChat","getGroupRemarkName","isBoss","isManagement"]),Object(r.e)(["chatuserInfoStore","msgListStore","chatListStore","friendsListStore"]),{chatObj:function(){try{return JSON.parse(this.msg.content)||""}catch(e){}}}),data:function(){return{getTimes:a.d,config:o.a,getTimesYueRi:a.e,videoTimeFilter:a.l,longClick:0,timeOutEvent:0,timeOutEvent2:0,options:!1,errorTimer:null}},mounted:function(){},beforeDestroy:function(){clearTimeout(this.errorTimer)},watch:{},created:function(){var e=this;this.errorTimer=setTimeout(function(){e.setError()},1e4)},methods:n()({},Object(r.b)([]),Object(r.d)(["setVideoPlayer"]),{isStopTalking:function(e){this.$emit("isStopTalking",e)},removeGroupUser:function(e){this.$emit("removeGroupUser",e)},openHandleUserVible:function(e){this.$emit("openHandleUserVible",e)},chongFa:function(){var e=this;(this.msg.send_uid&&this.msg.send_uid==this.getUserId||this.msg.userMsg&&this.msg.status==this.config.MSG_STATUS_ERROR)&&this.$confirm("是否重发该消息?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$emit("reSendMessage",e.msg)}).catch(function(){})},messageBack:function(){var e=this;this.msg.send_uid&&this.msg.send_uid==this.getUserId||this.msg.userMsg&&this.msg.status==this.config.MSG_STATUS_SUCCEED||this.isBoss&&2==this.msgListStore.activeTyep||this.isManagement&&2==this.msgListStore.activeTyep?this.$emit("openConfig",this.msg):this.$confirm("是否转发该消息?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$emit("getZhuanFa")}).catch(function(){})},setError:function(){this.msg.code&&3!=this.msg.code||this.msg.status!=this.config.MSG_STATUS_SED||(this.msg.status=this.config.MSG_STATUS_ERROR,clearTimeout(this.errorTimer))},findUser:function(e){this.$emit("setFindUser",e)}})},u={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"main",class:{self:e.msg.userMsg||e.msg.send_uid==e.getUserId}},[e.msg.head_portrait?i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.msg.head_portrait,expression:"msg.head_portrait"}],staticClass:"avatar",attrs:{width:"36",height:"36"},on:{click:function(t){return e.findUser(e.msg)},contextmenu:function(t){return t.preventDefault(),e.openHandleUserVible(e.msg)}}}):e.msg.send_uid==e.getUserId?i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.chatuserInfoStore.dataGetInfo.head_portrait,expression:"chatuserInfoStore.dataGetInfo.head_portrait"}],staticClass:"avatar",attrs:{width:"36",height:"36"},on:{click:function(t){return e.findUser(e.msg)},contextmenu:function(t){return t.preventDefault(),e.openHandleUserVible(e.msg)}}}):i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.selectedChat.user.img,expression:"selectedChat.user.img"}],staticClass:"avatar",attrs:{width:"36",height:"36"},on:{click:function(t){return e.findUser(e.msg)},contextmenu:function(t){return t.preventDefault(),e.openHandleUserVible(e.msg)}}}),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.chatListStore.handleUserVible&&e.forbiddenInfo.unique_value==e.msg.unique_value&&e.msg.send_uid!=e.getUserId,expression:"chatListStore.handleUserVible && forbiddenInfo.unique_value ==msg.unique_value && msg.send_uid != getUserId"}],staticClass:"handleConfig"},[i("ul",[2!=e.forbiddenInfo.forbiddenStatus?i("li",{on:{click:function(t){return e.isStopTalking(e.msg)}}},[e._v("\n          禁言\n        ")]):e._e(),e._v(" "),1!=e.forbiddenInfo.forbiddenStatus?i("li",{on:{click:function(t){return e.isStopTalking(e.msg)}}},[e._v("\n          解禁\n        ")]):e._e(),e._v(" "),i("li",{on:{click:function(t){return e.removeGroupUser(e.msg)}}},[e._v("\n          移除\n        ")]),e._v(" "),i("li",{on:{click:function(t){return e.findUser(e.msg)}}},[e._v("\n          @TA\n        ")])])]),e._v(" "),i("div",[e.msg.userMsg||e.msg.send_uid==e.getUserId?i("p",[i("wx-level",{attrs:{msg:e.msg}}),e._v(e._s(e.chatuserInfoStore.dataGetInfo.nickname)+"\n    ")],1):1==e.msgListStore.activeTyep?i("p",[e._v("\n        "+e._s(e.msgListStore.activeName)),i("wx-level",{attrs:{msg:e.msg}})],1):i("p",[e._v("\n        "+e._s(e.getGroupRemarkName({uid:e.msg.asFrom,send_uid:e.msg.send_uid})||e.msg.nickname||e.msg.username)),i("wx-level",{attrs:{msg:e.msg}})],1),e._v(" "),i("div",{staticClass:"whatsay"},[i("div",{staticClass:"whatsay_video",on:{contextmenu:function(t){return t.preventDefault(),e.messageBack(t)}}},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.chatObj.youpai_image_url||e.chatObj.qiniu_image_url,expression:"chatObj.youpai_image_url || chatObj.qiniu_image_url"}],attrs:{width:"120",height:"160"}}),e._v(" "),i("div",{staticClass:"video-modal"},[i("img",{attrs:{src:s("et6p"),alt:""},on:{click:function(t){return e.setVideoPlayer({data:e.msg.content,state:!0})}}}),e._v(" "),i("div",{staticClass:"time"},[e._v(e._s(e.videoTimeFilter(e.chatObj.time)))])]),e._v(" "),e.msg.status==e.config.MSG_STATUS_ERROR?i("img",{staticClass:"chat-state resendMsg",attrs:{src:s("xPM9"),width:"18",height:"18"},on:{click:function(t){return e.chongFa()}}}):e._e()])])])])])},staticRenderFns:[]};var m=s("VU/8")(c,u,!1,function(e){s("JjPx")},"data-v-07590dea",null);t.default=m.exports},et6p:function(e,t,s){e.exports=s.p+"pcImstatic/img/player.fa655da.png"},xPM9:function(e,t,s){e.exports=s.p+"pcImstatic/img/error.b8cc47a.png"}});