webpackJsonp([30],{"3osg":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("Dd8w"),n=i.n(s),a=i("NYxO"),r=(i("SQjO"),{props:["childIdSend"],data:function(){return{activeIndex:"-1",like:!0,remarkShow:!1,parm:{self_uid:"",friend_uid:"",page:1,page_size:"10"},loadding:"",clientHeight:0,isKaiGuan:!1,childDataList:[],messgeid:""}},created:function(){var t=this;this.parm.self_uid=this.getUserId,this.parm.friend_uid=this.childIdSend.it,this.getFriendCircleList(this.parm).then(function(e){t.childDataList=e.data,t.childDataList.length>=10?(t.isKaiGuan=!0,t.loadding=0):(t.isKaiGuan=!1,t.loadding=1)})},computed:n()({},Object(a.c)(["getUserId"]),Object(a.e)(["friendCircleStore","chatuserInfoStore"])),mounted:function(){var t=this;this.$nextTick(function(){t.$refs.scrollList.addEventListener("scroll",t.menu)})},methods:n()({},Object(a.d)(["setPicture","windowMove","setActiveWindow","createFriendChatMessage","sendNewChat"]),Object(a.b)(["getFriendCircleList","getFriendInfoAction","addMsgAction","searchUser"]),{cancelSend:function(){this.$emit("sendData",!1)},enterMessage:function(t,e){var i=this;this.messgeid=1==e?t.uid:2==e?t.l_uid:t.com_uid,this.selectFriend(this.messgeid),this.messgeid!=this.getUserId&&this.getFriendInfoAction({self_uid:this.getUserId,friend_uid:this.messgeid}).then(function(t){i.createFriendChatMessage({id:t.id});var e={id:t.id,name:t.nickname,count:0,head_portrait:t.head_portrait,remarks_name:t.remarks_name};i.sendNewChat({message:e,type:1,state:!0})})},menu:function(){var t=this;this.isKaiGuan&&(0==this.getScrollTop()+this.getWindowHeight()-this.getScrollHeight()&&(this.parm.page++,this.parm.self_uid=this.getUserId,this.loadding=0,this.getFriendCircleList(this.parm).then(function(e){if(1e4==e.code){for(var i=0;i<e.data.length;i++)t.childDataList.push(e.data[i]);e.data.length>10?(t.loadding=0,t.isKaiGuan=!0):(t.loadding=1,t.isKaiGuan=!1)}else{for(i=0;i<e.data.length;i++)t.childDataList.push([]);t.loadding=1,t.isKaiGuan=!1}})))},getScrollTop:function(){return this.$refs.scrollList.scrollTop},getScrollHeight:function(){return this.$refs.scrollList.scrollHeight},getWindowHeight:function(){return this.$refs.scrollList.clientHeight},removeIntoState:function(){var t=this;this.childDataList.map(function(e){t.$set(e,"intoState",!1)}),this.remarkShow=!1}})}),c={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"Info-wrapper"},[s("div",{staticClass:"newfriend",on:{mousedown:function(e){return t.windowMove(e)}}},[s("i",{staticClass:"returnButt point",on:{click:t.cancelSend}}),t._v(" "),s("div",{staticClass:"nickname"},[t._v(t._s(t.childIdSend.itname||"好友")+"的朋友圈")]),t._v(" "),s("span")]),t._v(" "),t.childDataList.length<=0?s("div",{staticClass:"noneData"},[t._v("你的好友还没发布朋友圈")]):t._e(),t._v(" "),s("div",{ref:"scrollList",staticClass:"content-div"},[t.childDataList.length>0?s("ul",{staticClass:"friend-circles",class:{on:t.remarkShow}},[t._l(t.childDataList,function(e,n){return s("li",{key:n,staticClass:"cirlist"},[s("div",{staticClass:"friend-overall"},[e.head_portrait?s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.head_portrait,expression:"item.head_portrait"}],staticClass:"friendleft point",on:{click:function(i){return t.enterMessage(e,1)}}}):s("img",{staticClass:"friendleft point",attrs:{src:i("y1Vc")},on:{click:function(i){return t.enterMessage(e,1)}}}),t._v(" "),s("div",{staticClass:"friendright",on:{click:function(e){return t.removeIntoState()}}},[s("p",{staticClass:"send-name point",on:{click:function(i){return t.enterMessage(e,1)}}},[t._v(t._s(e.name))]),t._v(" "),s("div",{staticClass:"detailed-introduce"},[s("div",{staticClass:"intro-content"},[s("p",{ref:"group",refInFor:!0,domProps:{innerHTML:t._s(e.content)}})])]),t._v(" "),s("div",{staticClass:"send-img"},t._l(e.picture,function(e){return s("div",{on:{click:function(i){return t.setPicture({img:e,state:!0})}}},[s("img",e?{directives:[{name:"lazy",rawName:"v-lazy",value:e,expression:"it"}]}:{attrs:{src:i("MKkq")}})])}),0),t._v(" "),s("div",{staticClass:"send-set"},[s("div",[s("span",{staticClass:"send-time"},[t._v(t._s(t.$getTimes(e.create_time)))])])]),t._v(" "),s("div",{staticClass:"commentsUp"},[e.like.length>0||e.comment.length>0?s("span",{staticClass:"triangle"}):t._e(),t._v(" "),e.like.length>0?s("div",{staticClass:"flex-all liveContent"},[s("div",{staticClass:"flex-all commentsdown"},[s("i",{staticClass:"nonelike"}),t._v(" "),s("div",t._l(e.like,function(e){return s("span",{staticClass:"point",on:{click:function(i){return t.enterMessage(e,2)}}},[t._v(t._s(e.name))])}),0)])]):t._e(),t._v(" "),e.comment.length>0?s("ul",t._l(e.comment,function(i){return s("li",{staticClass:"comment-content flex"},[s("p",[s("span",{staticClass:"nameSpan",on:{click:function(e){return t.enterMessage(i,3)}}},[t._v(t._s(i.name)+"：")]),s("span",{on:{click:function(s){return s.stopPropagation(),t.recoveComment(e,i)}}},[t._v(t._s(i.content))])])])}),0):t._e()])])])])}),t._v(" "),0==t.loadding?s("li",{staticClass:"loadingContent"},[t._v("加载中，请稍后")]):t._e(),t._v(" "),1==t.loadding?s("li",{staticClass:"loadingContent"},[t._v("— 没有更多数据了 —")]):t._e()],2):t._e()])])},staticRenderFns:[]};var l=i("VU/8")(r,c,!1,function(t){i("uFTA")},"data-v-29067ace",null);e.default=l.exports},MKkq:function(t,e,i){t.exports=i.p+"pcImstatic/img/notime.6735426.jpg"},uFTA:function(t,e){}});