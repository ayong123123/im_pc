webpackJsonp([39],{KPEs:function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var n=t("Dd8w"),a=t.n(n),i=t("NYxO"),r=t("F+jZ"),o=t("SQjO"),c=t("zL8q"),l={props:["msg","forbiddenInfo"],data:function(){return{getTimes:r.d,config:o.a,getTimesYueRi:r.e,errorTimer:null}},computed:a()({},Object(i.e)(["msgListStore","chatListStore","chatuserInfoStore","friendsListStore","indexStore"]),Object(i.c)(["selectedChat","getUserId","getGroupRemarkName","isBoss","isManagement"]),{orderObj:function(){return JSON.parse(this.msg.content)},allMoney:function(){var e=JSON.parse(this.msg.content),s=0;for(var t in e.code)s+=Number(e.code[t].beiShu*e.code[t].actionNum);return s}}),watch:{},created:function(){var e=this;this.errorTimer=setTimeout(function(){e.setError()},1e4)},beforeDestroy:function(){clearTimeout(this.errorTimer)},mounted:function(){},methods:a()({},Object(i.b)(["rewardUser"]),Object(i.d)(["setModalState","setDaShangObj"]),{isStopTalking:function(e){this.$emit("isStopTalking",e)},removeGroupUser:function(e){this.$emit("removeGroupUser",e)},openHandleUserVible:function(e){this.$emit("openHandleUserVible",e)},messageBack:function(){var e=this;(this.msg.send_uid&&this.msg.send_uid==this.getUserId||this.msg.userMsg&&this.msg.status==this.config.MSG_STATUS_SUCCEED||this.isBoss&&2==this.msgListStore.activeTyep||this.isManagement&&2==this.msgListStore.activeTyep)&&this.$confirm("是否撤回该消息?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$emit("messageBack")}).catch(function(){})},setError:function(){this.msg.code&&3!=this.msg.code||this.msg.status!=this.config.MSG_STATUS_SED||(this.msg.status=this.config.MSG_STATUS_ERROR,clearTimeout(this.errorTimer))},chongFa:function(){var e=this;(this.msg.send_uid&&this.msg.send_uid==this.getUserId||this.msg.userMsg&&this.msg.status==this.config.MSG_STATUS_ERROR)&&this.$confirm("是否重发该消息?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$emit("reSendMessage",e.msg)}).catch(function(){})},findUser:function(e){this.$emit("setFindUser",e)},daShangFn:function(){var e=this,s=this.msg.send_uid||this.msg.groupmessage&&this.msg.groupmessage.sendid||this.msg.singlemessage&&this.msg.singlemessage.sendid;this.setDaShangObj(this.msg),this.msg.userMsg||this.msg.send_uid==this.getUserId?Object(c.Message)({message:"不可以打赏自己",type:"warning",showClose:!0}):this.rewardUser({uid:s}).then(function(){e.setModalState("moneyRewardState")})},orderFn:function(){var e=JSON.parse(this.msg.content);e.nickname=this.msg.nickname,this.setDaShangObj(e),this.setModalState("orderFollowState")},tochinese:function(e){return"k3hz_da"==e?"大":"k3hz_xiao"==e?"小":"k3hz_dan"==e?"单":"k3hz_shuang"==e?"双":e}})},d={render:function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t("div",{staticClass:"time"},[t("span",[e._v(e._s(e.getTimes(e.msg.create_time)))])]),e._v(" "),t("div",{staticClass:"main",class:{self:e.msg.userMsg||e.msg.send_uid==e.getUserId}},[e.msg.head_portrait?t("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.msg.head_portrait,expression:"msg.head_portrait"}],staticClass:"avatar",attrs:{width:"36",height:"36"},on:{click:function(s){return e.findUser(e.msg)},contextmenu:function(s){return s.preventDefault(),e.openHandleUserVible(e.msg)}}}):e.msg.send_uid==e.getUserId?t("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.chatuserInfoStore.dataGetInfo.head_portrait,expression:"chatuserInfoStore.dataGetInfo.head_portrait"}],staticClass:"avatar",attrs:{width:"36",height:"36"},on:{click:function(s){return e.findUser(e.msg)},contextmenu:function(s){return s.preventDefault(),e.openHandleUserVible(e.msg)}}}):t("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.selectedChat.user.img,expression:"selectedChat.user.img"}],staticClass:"avatar",attrs:{width:"36",height:"36"},on:{click:function(s){return e.findUser(e.msg)},contextmenu:function(s){return s.preventDefault(),e.openHandleUserVible(e.msg)}}}),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:e.chatListStore.handleUserVible&&e.forbiddenInfo.unique_value==e.msg.unique_value&&e.msg.send_uid!=e.getUserId,expression:"chatListStore.handleUserVible && forbiddenInfo.unique_value ==msg.unique_value && msg.send_uid != getUserId"}],staticClass:"handleConfig"},[t("ul",[2!=e.forbiddenInfo.forbiddenStatus?t("li",{on:{click:function(s){return e.isStopTalking(e.msg)}}},[e._v("\n          禁言\n        ")]):e._e(),e._v(" "),1!=e.forbiddenInfo.forbiddenStatus?t("li",{on:{click:function(s){return e.isStopTalking(e.msg)}}},[e._v("\n          解禁\n        ")]):e._e(),e._v(" "),t("li",{on:{click:function(s){return e.removeGroupUser(e.msg)}}},[e._v("\n          移除\n        ")]),e._v(" "),t("li",{on:{click:function(s){return e.findUser(e.msg)}}},[e._v("\n          @TA\n        ")])])]),e._v(" "),e.msg.userMsg||e.msg.send_uid==e.getUserId?t("span",{staticClass:"chat-username"},[e.msg.level&&e.msg.level_name?t("span",{staticClass:"level"},[t("span",{staticClass:"lv"},[e._v("LV")]),t("span",{staticClass:"grade"},[e._v(e._s(e.msg.level))]),e._v(e._s(e.msg.level_name))]):e._e(),e._v(" "),e.msg.reserved?t("span",{staticClass:"level"},[t("span",{staticClass:"lv"},[e._v("LV")]),t("span",{staticClass:"grade"},[e._v(e._s(JSON.parse(e.msg.reserved).level))]),e._v(e._s(JSON.parse(e.msg.reserved).levelName))]):e._e(),e._v(e._s(e.chatuserInfoStore.dataGetInfo.nickname)+"\n    ")]):1==e.msgListStore.activeTyep?t("span",{staticClass:"chat-username"},[e.msg.level&&e.msg.level_name?t("span",{staticClass:"level"},[t("span",{staticClass:"lv"},[e._v("LV")]),t("span",{staticClass:"grade"},[e._v(e._s(e.msg.level))]),e._v(e._s(e.msg.level_name))]):e._e(),e._v(" "),e.msg.reserved?t("span",{staticClass:"level"},[t("span",{staticClass:"lv"},[e._v("LV")]),t("span",{staticClass:"grade"},[e._v(e._s(JSON.parse(e.msg.reserved).level))]),e._v(e._s(JSON.parse(e.msg.reserved).levelName))]):e._e(),e._v(e._s(e.msgListStore.activeName)+"\n    ")]):t("span",{staticClass:"chat-username"},[e.msg.level&&e.msg.level_name?t("span",{staticClass:"level"},[t("span",{staticClass:"lv"},[e._v("LV")]),t("span",{staticClass:"grade"},[e._v(e._s(e.msg.level))]),e._v(e._s(e.msg.level_name))]):e._e(),e._v(" "),e.msg.reserved?t("span",{staticClass:"level"},[t("span",{staticClass:"lv"},[e._v("LV")]),t("span",{staticClass:"grade"},[e._v(e._s(JSON.parse(e.msg.reserved).level))]),e._v(e._s(JSON.parse(e.msg.reserved).levelName))]):e._e(),e._v(e._s(e.getGroupRemarkName({uid:e.msg.asFrom,send_uid:e.msg.send_uid})||e.msg.nickname||e.msg.username)+"\n    ")]),e._v(" "),t("div",{staticClass:"chat-order chat-content-dom"},[t("div",[t("p",{staticClass:"title_p"},[e._v("\n          分享注单:\n        ")]),e._v(" "),t("div",{staticClass:"orders long-text",on:{contextmenu:function(s){return s.preventDefault(),e.messageBack()}}},[t("div",{staticClass:"orders_title"},[e._v("\n            "+e._s(e.orderObj.para.cptitle)+"\n          ")]),e._v(" "),t("div",{staticClass:"orders_content flex"},[e._m(0),e._v(" "),t("div",{staticClass:"orders_c_two"},[t("p",[e._v(e._s(e.orderObj.para.actionNo))]),e._v(" "),t("p",{staticClass:"long-text"},[e._l(e.orderObj.nameList,function(s){return t("i",[e._v(e._s(s))])}),e._v(" "),e._l(e.orderObj.code,function(s){return e.orderObj.nameList?e._e():t("i",[e._v("["+e._s(e.tochinese(s.actionData))+"] ")])})],2),e._v(" "),t("p",[e._v("¥"),t("i",[e._v(e._s(e.allMoney))])])]),e._v(" "),t("div",{staticClass:"orders_c_three"},[1==e.indexStore.indexData.rewardSwitch?t("button",{on:{click:e.daShangFn}},[e._v("打赏")]):e._e(),e._v(" "),t("button",{on:{click:e.orderFn}},[e._v("跟投")])])])])]),e._v(" "),e.msg.status==e.config.MSG_STATUS_SED?t("i",{staticClass:"el-icon-loading chat-loading"}):e._e(),e._v(" "),e.msg.status==e.config.MSG_STATUS_ERROR?t("i",{staticClass:"el-icon-warning chat-loading error",on:{click:function(s){return e.chongFa()}}}):e._e()])])])},staticRenderFns:[function(){var e=this.$createElement,s=this._self._c||e;return s("div",{staticClass:"orders_c_one"},[s("p",[this._v("投注期号")]),this._v(" "),s("p",[this._v("投注内容")]),this._v(" "),s("p",[this._v("投注总额")])])}]};var m=t("VU/8")(l,d,!1,function(e){t("aiXW")},"data-v-7b0aa7ec",null);s.default=m.exports},aiXW:function(e,s){}});