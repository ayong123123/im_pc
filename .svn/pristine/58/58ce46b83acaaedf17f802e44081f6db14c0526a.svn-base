webpackJsonp([43],{"2ZVr":function(s,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=t("Dd8w"),n=t.n(a),i=t("NYxO"),o=t("zL8q"),d=t("F+jZ"),r=(t("NC6I"),{data:function(){return{listmenu:["拼手气红包","每人固定金额"],changeIndex:0,sendParams:{token:"",type:0,mtype:1,retype:"",total:"",ptotal:"",person:"",jid:"",thn:"",AmountPassword:"",info:""},passwordShow:!1}},created:function(){this.sendParams.token=Object(d.c)("token"),this.sendParams.retype=1==this.msgListStore.activeTyep?2:1,this.sendParams.jid=this.msgListStore.activeWindowId},computed:n()({},Object(i.e)(["chatListStore","msgListStore","indexStore"]),Object(i.c)(["selectedChat","getUserId"]),{allMoney:function(){return 1==this.sendParams.mtype?1*this.sendParams.total:this.sendParams.total*this.sendParams.person}}),watch:{"sendParams.person":function(s,e){this.sendParams.person=parseInt(s)}},mounted:function(){},methods:n()({changeMenu:function(s){this.changeIndex=s,this.sendParams.mtype=0==s?1:2},sendRedPack:function(){var s=this;if(this.sendParams.token){if(this.sendParams.total<parseInt(this.indexStore.indexData.MinAmountHb)||this.sendParams.total>parseInt(this.indexStore.indexData.MaxAmountHb))Object(o.Message)({message:"提示:红包金额范围"+this.indexStore.indexData.MinAmountHb+"~"+this.indexStore.indexData.MaxAmountHb+"元!",type:"warning",showClose:!0});else if(parseInt(this.indexStore.indexData.MinAmountPassword)<=parseInt(this.sendParams.total)&&(this.passwordShow=!0,!this.sendParams.AmountPassword))Object(o.Message)({message:"提示:请输入支付密码",type:"warning",showClose:!0});else if(2==this.sendParams.retype&&(this.sendParams.ptotal=this.sendParams.total,this.sendParams.mtype=2,this.sendParams.info=this.sendParams.info||"恭喜发财，大吉大利",this.sendParams.person=1,this.sendRedPackActionIm(this.sendParams).then(function(){s.passwordShow=!1,s.setModalState("sendRedPackState")})),1==this.sendParams.retype)if(1==this.sendParams.mtype){if(this.sendParams.person<1)return void Object(o.Message)({message:"提示:红包至少个数为1",type:"warning",showClose:!0});this.sendParams.info=this.sendParams.info||"恭喜发财，大吉大利",this.sendParams.total=1*this.sendParams.total,this.sendRedPackActionIm(this.sendParams).then(function(){s.passwordShow=!1,s.setModalState("sendRedPackState")})}else{if(this.sendParams.person<1)return void Object(o.Message)({message:"提示:红包至少个数为1",type:"warning",showClose:!0});this.sendParams.ptotal=this.sendParams.total,this.sendParams.total=this.sendParams.total*this.sendParams.person,this.sendParams.info=this.sendParams.info||"恭喜发财，大吉大利",this.sendRedPackActionIm(this.sendParams).then(function(){s.passwordShow=!1,s.setModalState("sendRedPackState")})}}else Object(o.Message)({message:"提示:请重新登录",type:"warning",showClose:!0})}},Object(i.b)(["sendRedPackActionIm"]),Object(i.d)(["setModalState"]))}),m={render:function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("div",{staticClass:"send-red-pack"},[t("div",{staticClass:"send-content"},[t("div",{staticClass:"send-title"},[t("p",[s._v("普通红包")]),s._v(" "),t("i",{staticClass:"icon-colse",on:{click:function(e){return s.setModalState("sendRedPackState")}}})]),s._v(" "),1==s.msgListStore.activeTyep?t("div",[t("p",{staticClass:"red-notice"},[s._v("最低金额: "+s._s(s.indexStore.indexData.MinAmountHb)+"元, 最大金额: "+s._s(s.indexStore.indexData.MaxAmountHb)+"元")]),s._v(" "),t("div",[t("div",{staticClass:"red-detail"},[t("div",{staticClass:"flex red-count"},[t("span",[s._v("总 金 额")]),s._v(" "),t("p",[t("input",{directives:[{name:"model",rawName:"v-model",value:s.sendParams.total,expression:"sendParams.total"}],attrs:{pattern:"[0-9]*",type:"number",placeholder:"0.00"},domProps:{value:s.sendParams.total},on:{input:function(e){e.target.composing||s.$set(s.sendParams,"total",e.target.value)}}}),s._v("元\n            ")])]),s._v(" "),s.passwordShow?t("div",{staticClass:"flex red-count"},[t("span",[s._v("提款密码")]),s._v(" "),t("p",[t("input",{directives:[{name:"model",rawName:"v-model",value:s.sendParams.AmountPassword,expression:"sendParams.AmountPassword"}],staticClass:"drawing-pass",attrs:{placeholder:"支付密码",type:"password",maxlength:"22"},domProps:{value:s.sendParams.AmountPassword},on:{input:function(e){e.target.composing||s.$set(s.sendParams,"AmountPassword",e.target.value)}}})])]):s._e()]),s._v(" "),t("p",{staticClass:"red-notice"}),s._v(" "),t("div",{staticClass:"red-discount"},[t("input",{directives:[{name:"model",rawName:"v-model",value:s.sendParams.info,expression:"sendParams.info"}],attrs:{type:"text",placeholder:"恭喜发财，大吉大利",maxlength:"12"},domProps:{value:s.sendParams.info},on:{input:function(e){e.target.composing||s.$set(s.sendParams,"info",e.target.value)}}})])]),s._v(" "),t("div",{staticClass:"red-sure"},[t("button",{on:{click:s.sendRedPack}},[s._v("确定")])])]):t("div",[t("ul",{staticClass:"send-button-ul flex"},s._l(s.listmenu,function(e,a){return t("li",{key:a,staticClass:"point",on:{click:function(e){return s.changeMenu(a)}}},[t("p",{class:{active:s.changeIndex==a}},[s._v(s._s(e))])])}),0),s._v(" "),t("p",{staticClass:"red-notice"},[s._v("最低金额: "+s._s(s.indexStore.indexData.MinAmountHb)+"元, 最大金额: "+s._s(s.indexStore.indexData.MaxAmountHb)+"元")]),s._v(" "),t("div",[t("div",{staticClass:"red-detail"},[t("div",{staticClass:"flex red-count"},[t("span",[s._v("红包个数")]),s._v(" "),t("p",[t("input",{directives:[{name:"model",rawName:"v-model",value:s.sendParams.person,expression:"sendParams.person"}],attrs:{type:"number",placeholder:"输入个数"},domProps:{value:s.sendParams.person},on:{input:function(e){e.target.composing||s.$set(s.sendParams,"person",e.target.value)}}}),s._v("个\n            ")])]),s._v(" "),t("div",{staticClass:"flex red-count"},[t("span",[s._v("金 额")]),s._v(" "),t("p",[t("input",{directives:[{name:"model",rawName:"v-model",value:s.sendParams.total,expression:"sendParams.total"}],attrs:{type:"number",placeholder:"输入金额",maxlength:"9"},domProps:{value:s.sendParams.total},on:{input:function(e){e.target.composing||s.$set(s.sendParams,"total",e.target.value)}}}),s._v("元\n            ")])]),s._v(" "),1==s.changeIndex?t("div",{staticClass:"flex red-count"},[t("span",[s._v("总 金 额")]),s._v(" "),t("p",[s._v("\n              "+s._s(s.allMoney||"0.00")+"元\n            ")])]):s._e(),s._v(" "),s.passwordShow?t("div",{staticClass:"flex red-count"},[t("span",[s._v("提款密码")]),s._v(" "),t("p",[t("input",{directives:[{name:"model",rawName:"v-model",value:s.sendParams.AmountPassword,expression:"sendParams.AmountPassword"}],staticClass:"drawing-pass",attrs:{type:"password",placeholder:"输入提款密码",maxlength:"22"},domProps:{value:s.sendParams.AmountPassword},on:{input:function(e){e.target.composing||s.$set(s.sendParams,"AmountPassword",e.target.value)}}})])]):s._e()]),s._v(" "),0==s.changeIndex?t("p",{staticClass:"red-notice"},[s._v("小伙伴领取的金额随机")]):s._e(),s._v(" "),1==s.changeIndex?t("p",{staticClass:"red-notice"},[s._v("小伙伴领取的金额平分")]):s._e(),s._v(" "),t("div",{staticClass:"red-discount"},[t("input",{directives:[{name:"model",rawName:"v-model",value:s.sendParams.info,expression:"sendParams.info"}],attrs:{type:"text",maxlength:"12",placeholder:"恭喜发财，大吉大利"},domProps:{value:s.sendParams.info},on:{input:function(e){e.target.composing||s.$set(s.sendParams,"info",e.target.value)}}})])]),s._v(" "),t("div",{staticClass:"red-sure"},[t("button",{on:{click:s.sendRedPack}},[s._v("确定")])])])])])},staticRenderFns:[]};var l=t("VU/8")(r,m,!1,function(s){t("jlCV")},"data-v-709c83a0",null);e.default=l.exports},jlCV:function(s,e){}});