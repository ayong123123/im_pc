webpackJsonp([24],{"F8Q/":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("Dd8w"),i=a.n(s),n=a("NYxO"),o=a("F+jZ"),r=(a("SQjO"),a("VGuj")),c={data:function(){return{nameRemark:0,unReadNumber:0}},created:function(){this.getLoginData({route:this.$router}),this.setIsAddUser(!1),this.getFriendList({self_uid:this.getUserId}),this.getInfo({uid:this.getUserId}),this.setAllMp3State(),this.getAppDownUrl(),this.getCountApplyFriendAction({self_uid:this.getUserId}),this.computeNumber(),this.initIndexAction(),this.userHomeDataAction(),r.a.conn.open()},computed:i()({},Object(n.e)(["chatListStore","chatuserInfoStore","friendsListStore","indexStore"]),Object(n.c)(["getUserId","selectedChat","getChatList"])),watch:{"chatListStore.chatlist":{handler:function(t){this.computeNumber()},deep:!0}},methods:i()({},Object(n.b)(["searchUser","loginOutAction","getInfo","setSignature","sendMessageIM","getCountApplyFriendAction","addFriendList","getFriendList","getAppDownUrl","getSysConfig","initIndexAction","userHomeDataAction"]),Object(n.d)(["getLoginData","setIsAddUser","setModalState","closeSomeModal","setAllMp3State"]),{computeNumber:function(){var t=this;this.unReadNumber=0,this.chatListStore.chatlist.forEach(function(e){2==e.chatType&&e.messages.unRead>0?t.unReadNumber+=1:t.unReadNumber+=e.messages.unRead})},editRemark:function(){this.nameRemark=1},loseFocus:function(){var t=this;if(this.chatuserInfoStore.dataGetInfo.signature){this.nameRemark=0;var e={uid:this.chatuserInfoStore.dataGetInfo.id,signature:this.chatuserInfoStore.dataGetInfo.signature};this.setSignature(e).then(function(e){t.getInfo({uid:t.getUserId})})}else this.$notify({title:"警告",message:"请填写个性签名",type:"warning"})},clearSearch:function(){this.searchUser(""),this.getCountApplyFriendAction({self_uid:this.getUserId}),this.addFriendList({self_uid:this.getUserId})},userInformation:function(){this.setModalState("personalInfor"),this.getInfo({uid:this.getUserId}),this.nameRemark=0},leftSet:function(){this.setModalState("leftUserSetState"),this.getInfo({uid:this.getUserId})},loginOut:function(){var t={data:{token:Object(o.c)("token")},route:this.$router};this.loginOutAction(t)},goResetPwd:function(){this.$refs.resetpwd.centerDialogVisible=!0},setWithPwd:function(){this.setModalState("setPassword")},editInfo:function(){this.$refs.dialog.centerDialogVisible=!0}})},d={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mycard"},[s("header",{on:{click:function(e){return e.stopPropagation(),t.userInformation(e)}}},[t.chatuserInfoStore.dataGetInfo.head_portrait?s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.chatuserInfoStore.dataGetInfo.head_portrait,expression:"chatuserInfoStore.dataGetInfo.head_portrait"}],staticClass:"avatar"}):s("img",{staticClass:"avatar",attrs:{src:a("y1Vc"),alt:""}})]),t._v(" "),t.chatListStore.personalInfor?s("div",{staticClass:"user-information"},[s("div",{staticClass:"user-content"},[s("div",{staticClass:"user-left"},[s("p",{staticClass:"user-name"},[t._v(t._s(t.chatuserInfoStore.dataGetInfo.nickname?t.chatuserInfoStore.dataGetInfo.nickname:"-")+"\n            "),2==t.chatuserInfoStore.dataGetInfo.sex?s("img",{attrs:{src:a("FJyc"),width:"20",alt:""}}):s("img",{attrs:{src:a("v8Cw"),width:"20",alt:""}})]),t._v(" "),s("div",{staticClass:"user-right"},[t.chatuserInfoStore.dataGetInfo.head_portrait?s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.chatuserInfoStore.dataGetInfo.head_portrait,expression:"chatuserInfoStore.dataGetInfo.head_portrait"}]}):s("img",{attrs:{src:a("y1Vc"),alt:""}})])]),t._v(" "),s("div",{staticClass:"region"},[t._v("\n          账号："),s("span",[t._v(t._s(t.chatuserInfoStore.loginData.username?t.chatuserInfoStore.loginData.username:"-"))])]),t._v(" "),s("div",{staticClass:"region"},[t._v("\n          余 额："),s("span",{staticClass:"red"},[t._v(t._s(t.chatuserInfoStore.dataGetInfo.coin?t.chatuserInfoStore.dataGetInfo.coin:"0"))])]),t._v(" "),s("div",{staticClass:"set-label"},[s("img",{attrs:{src:a("spPb"),alt:""},on:{click:t.editInfo}})])])]):t._e(),t._v(" "),s("div",{staticClass:"navbar",on:{click:t.clearSearch}},[s("router-link",{staticClass:"icon iconfont icon-msg",attrs:{to:"/chat"}},[t.unReadNumber>0?s("el-badge",{staticClass:"message-number-badge",attrs:{value:t.unReadNumber,max:99}}):t._e()],1),t._v(" "),s("router-link",{staticClass:"icon iconfont icon-friend",attrs:{to:"/friend"}},[t.friendsListStore.countApplyFriend>0?s("el-badge",{staticClass:"message-number-badge",attrs:{value:t.friendsListStore.countApplyFriend,max:99}}):t._e()],1),t._v(" "),s("router-link",{staticClass:"icon iconfont icon-collection",attrs:{to:"/circle"}})],1),t._v(" "),s("footer",[s("i",{staticClass:"icon iconfont icon-more point",on:{click:function(e){return e.stopPropagation(),t.leftSet(e)}}}),t._v(" "),t.chatListStore.leftUserSetState?s("ul",{staticClass:"footer-content"},[t.indexStore.indexData.kefuGG?s("li",{staticClass:"point"},[s("a",{attrs:{href:t.indexStore.indexData.kefuGG,target:"_blank"}},[t._v("客服链接")])]):t._e(),t._v(" "),t.indexStore.indexData.appDownLoadLink?s("li",{staticClass:"point"},[s("a",{attrs:{href:t.indexStore.indexData.appDownLoadLink,target:"_blank"}},[t._v("APP下载")])]):t._e(),t._v(" "),s("li",{staticClass:"point",on:{click:function(e){return t.goResetPwd()}}},[t._v("\n          修改登录密码\n        ")]),t._v(" "),1!=t.indexStore.userHomeData.data.coinPassword?s("li",{staticClass:"point setflex",on:{click:function(e){return t.setWithPwd()}}},[s("span",{staticClass:"set-pwd"},[t._v("设置提款密码")]),t._v(" "),s("span",{staticClass:"set-tip"})]):t._e(),t._v(" "),1==t.indexStore.userHomeData.data.coinPassword?s("li",{staticClass:"point",on:{click:function(e){return t.setWithPwd()}}},[t._v("修改提款密码")]):t._e(),t._v(" "),s("li",{staticClass:"point",on:{click:function(e){return t.loginOut()}}},[t._v("退出登录")])]):t._e()]),t._v(" "),s("wx-editorUserInfo",{ref:"dialog"}),t._v(" "),s("wx-resetPassword",{ref:"resetpwd"})],1)},staticRenderFns:[]};var u=a("VU/8")(c,d,!1,function(t){a("mDyK")},"data-v-8667404e",null);e.default=u.exports},mDyK:function(t,e){},spPb:function(t,e,a){t.exports=a.p+"pcImstatic/img/bianji_icon.a3e5114.png"}});