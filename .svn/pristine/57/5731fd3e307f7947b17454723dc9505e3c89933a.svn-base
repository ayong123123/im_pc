webpackJsonp([34],{KPEs:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s("Dd8w"),i=s.n(n),a=s("NYxO"),r=s("F+jZ"),o=s("SQjO"),c=s("zL8q"),d={props:["msg","forbiddenInfo"],data:function(){return{getTimes:r.d,config:o.a,getTimesYueRi:r.e,errorTimer:null}},computed:i()({},Object(a.e)(["msgListStore","chatListStore","chatuserInfoStore","friendsListStore","indexStore"]),Object(a.c)(["selectedChat","getUserId","getGroupRemarkName","isBoss","isManagement"]),{orderObj:function(){return JSON.parse(this.msg.content)},allMoney:function(){var e=JSON.parse(this.msg.content),t=0;for(var s in e.code)t+=Number(e.code[s].beiShu*e.code[s].actionNum);return t}}),watch:{},created:function(){var e=this;this.errorTimer=setTimeout(function(){e.setError()},1e4)},beforeDestroy:function(){clearTimeout(this.errorTimer)},mounted:function(){},methods:i()({},Object(a.b)(["rewardUser"]),Object(a.d)(["setModalState","setDaShangObj"]),{isStopTalking:function(e){this.$emit("isStopTalking",e)},removeGroupUser:function(e){this.$emit("removeGroupUser",e)},openHandleUserVible:function(e){this.$emit("openHandleUserVible",e)},messageBack:function(){var e=this;(this.msg.send_uid&&this.msg.send_uid==this.getUserId||this.msg.userMsg&&this.msg.status==this.config.MSG_STATUS_SUCCEED||this.isBoss&&2==this.msgListStore.activeTyep||this.isManagement&&2==this.msgListStore.activeTyep)&&this.$confirm("是否撤回该消息?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$emit("messageBack")}).catch(function(){})},setError:function(){this.msg.code&&3!=this.msg.code||this.msg.status!=this.config.MSG_STATUS_SED||(this.msg.status=this.config.MSG_STATUS_ERROR,clearTimeout(this.errorTimer))},chongFa:function(){var e=this;(this.msg.send_uid&&this.msg.send_uid==this.getUserId||this.msg.userMsg&&this.msg.status==this.config.MSG_STATUS_ERROR)&&this.$confirm("是否重发该消息?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$emit("reSendMessage",e.msg)}).catch(function(){})},findUser:function(e){this.$emit("setFindUser",e)},daShangFn:function(){var e=this,t=this.msg.send_uid||this.msg.groupmessage&&this.msg.groupmessage.sendid||this.msg.singlemessage&&this.msg.singlemessage.sendid;this.setDaShangObj(this.msg),this.msg.userMsg||this.msg.send_uid==this.getUserId?Object(c.Message)({message:"不可以打赏自己",type:"warning",showClose:!0}):this.rewardUser({uid:t}).then(function(){e.setModalState("moneyRewardState")})},orderFn:function(){var e=JSON.parse(this.msg.content);e.nickname=this.msg.nickname,this.setDaShangObj(e),this.setModalState("orderFollowState")},tochinese:function(e){return"k3hz_da"==e?"大":"k3hz_xiao"==e?"小":"k3hz_dan"==e?"单":"k3hz_shuang"==e?"双":e}})},u={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"time"},[s("span",[e._v(e._s(e.getTimes(e.msg.create_time)))])]),e._v(" "),s("div",{staticClass:"main",class:{self:e.msg.userMsg||e.msg.send_uid==e.getUserId}},[e.msg.head_portrait?s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.msg.head_portrait,expression:"msg.head_portrait"}],staticClass:"avatar",attrs:{width:"36",height:"36"},on:{click:function(t){return e.findUser(e.msg)},contextmenu:function(t){return t.preventDefault(),e.openHandleUserVible(e.msg)}}}):e.msg.send_uid==e.getUserId?s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.chatuserInfoStore.dataGetInfo.head_portrait,expression:"chatuserInfoStore.dataGetInfo.head_portrait"}],staticClass:"avatar",attrs:{width:"36",height:"36"},on:{click:function(t){return e.findUser(e.msg)},contextmenu:function(t){return t.preventDefault(),e.openHandleUserVible(e.msg)}}}):s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.selectedChat.user.img,expression:"selectedChat.user.img"}],staticClass:"avatar",attrs:{width:"36",height:"36"},on:{click:function(t){return e.findUser(e.msg)},contextmenu:function(t){return t.preventDefault(),e.openHandleUserVible(e.msg)}}}),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.chatListStore.handleUserVible&&e.forbiddenInfo.unique_value==e.msg.unique_value&&e.msg.send_uid!=e.getUserId,expression:"chatListStore.handleUserVible && forbiddenInfo.unique_value ==msg.unique_value && msg.send_uid != getUserId"}],staticClass:"handleConfig"},[s("ul",[2!=e.forbiddenInfo.forbiddenStatus?s("li",{on:{click:function(t){return e.isStopTalking(e.msg)}}},[e._v("\n          禁言\n        ")]):e._e(),e._v(" "),1!=e.forbiddenInfo.forbiddenStatus?s("li",{on:{click:function(t){return e.isStopTalking(e.msg)}}},[e._v("\n          解禁\n        ")]):e._e(),e._v(" "),s("li",{on:{click:function(t){return e.removeGroupUser(e.msg)}}},[e._v("\n          移除\n        ")]),e._v(" "),s("li",{on:{click:function(t){return e.findUser(e.msg)}}},[e._v("\n          @TA\n        ")])])]),e._v(" "),e.msg.userMsg||e.msg.send_uid==e.getUserId?s("span",{staticClass:"chat-username"},[e._v("\n      "+e._s(e.chatuserInfoStore.dataGetInfo.nickname)+"\n    ")]):1==e.msgListStore.activeTyep?s("span",{staticClass:"chat-username"},[e._v("\n      "+e._s(e.msgListStore.activeName)+"\n    ")]):s("span",{staticClass:"chat-username"},[e._v("\n      "+e._s(e.getGroupRemarkName({uid:e.msg.asFrom,send_uid:e.msg.send_uid})||e.msg.nickname||e.msg.username)+"\n    ")]),e._v(" "),s("div",{staticClass:"chat-order chat-content-dom"},[s("div",[s("p",{staticClass:"title_p"},[e._v("\n          分享注单:\n        ")]),e._v(" "),s("div",{staticClass:"orders long-text",on:{contextmenu:function(t){return t.preventDefault(),e.messageBack()}}},[s("div",{staticClass:"orders_title"},[e._v("\n            "+e._s(e.orderObj.para.cptitle)+"\n          ")]),e._v(" "),s("div",{staticClass:"orders_content flex"},[e._m(0),e._v(" "),s("div",{staticClass:"orders_c_two"},[s("p",[e._v(e._s(e.orderObj.para.actionNo))]),e._v(" "),s("p",{staticClass:"long-text"},[e._l(e.orderObj.nameList,function(t){return s("i",[e._v(e._s(t))])}),e._v(" "),e._l(e.orderObj.code,function(t){return e.orderObj.nameList?e._e():s("i",[e._v("["+e._s(e.tochinese(t.actionData))+"] ")])})],2),e._v(" "),s("p",[e._v("¥"),s("i",[e._v(e._s(e.allMoney))])])]),e._v(" "),s("div",{staticClass:"orders_c_three"},[1==e.indexStore.indexData.rewardSwitch?s("button",{on:{click:e.daShangFn}},[e._v("打赏")]):e._e(),e._v(" "),s("button",{on:{click:e.orderFn}},[e._v("跟投")])])])])]),e._v(" "),e.msg.status==e.config.MSG_STATUS_SED?s("i",{staticClass:"el-icon-loading chat-loading"}):e._e(),e._v(" "),e.msg.status==e.config.MSG_STATUS_ERROR?s("i",{staticClass:"el-icon-warning chat-loading error",on:{click:function(t){return e.chongFa()}}}):e._e()])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"orders_c_one"},[t("p",[this._v("投注期号")]),this._v(" "),t("p",[this._v("投注内容")]),this._v(" "),t("p",[this._v("投注总额")])])}]};var m=s("VU/8")(d,u,!1,function(e){s("bPNs")},"data-v-fa3fbbc4",null);t.default=m.exports},bPNs:function(e,t){}});