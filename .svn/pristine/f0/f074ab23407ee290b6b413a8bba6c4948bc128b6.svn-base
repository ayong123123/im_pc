webpackJsonp([7],{"/ZNt":function(e,t,s){e.exports=s.p+"pcImstatic/img/delete.348df13.png"},"AjR/":function(e,t){},FM1l:function(e,t,s){e.exports=s.p+"pcImstatic/img/checked.29c0405.png"},d1bl:function(e,t,s){e.exports=s.p+"pcImstatic/img/message.navigator.menu.cdeaab2.png"},vfyj:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("Dd8w"),i=s.n(a),n=s("NYxO"),r=s("zL8q"),c={data:function(){return{userType3:[],sheetVisible:!1,searchUser:""}},computed:i()({},Object(n.e)(["chatListStore","indexStore","msgListStore","friendsListStore"]),Object(n.c)(["getUserId"]),{groupUser:function(){return this.friendsListStore.groupChatInfoList.data.user_info},managementCount:function(){var e=0;return this.friendsListStore.groupChatInfoList.data.user_info.forEach(function(t){2==t.role&&e++}),e},groupUserType3:function(){var e=this;return this.userType3.filter(function(t){return t.user_group_name.includes(e.searchUser)})}}),watch:{},created:function(){},mounted:function(){},methods:i()({},Object(n.b)(["groupSetAdminAction","getGroupChatInfoAction"]),Object(n.d)(["setModalState"]),{deleteSection:function(e){var t=this;this.$confirm("解除管理员一职, 是否继续?","提示",{confirmButtonText:"是",cancelButtonText:"否",type:"warning"}).then(function(){var s={owner_uid:t.getUserId,group_id:t.friendsListStore.groupChatInfoList.data.group_id,uid:e.uid,status:3};t.groupSetAdminAction(s).then(function(){t.getGroupChatInfoAction({self_uid:t.getUserId,group_id:t.friendsListStore.groupChatInfoList.data.group_id})})}).catch(function(){})},closeFn:function(){this.sheetVisible?this.sheetVisible=!1:this.setModalState("groupManageState")},openManage:function(){var e=this;this.userType3=[],this.friendsListStore.groupChatInfoList.data.user_info.forEach(function(t){var s=t;s.checked=!1,e.userType3.push(s)}),this.sheetVisible=!0},selectManage:function(e){e.checked=!e.checked},addManagementFn:function(){var e=this;if(this.userType3.some(function(e){return e.checked})){var t=[],s=0;if(this.userType3.forEach(function(e){e.checked&&(s++,t.push(e.uid))}),s>10)Object(r.Message)({message:"最多只能选择10个",type:"warning",showClose:!0});else{var a={owner_uid:this.getUserId,group_id:this.friendsListStore.groupChatInfoList.data.group_id,uid:t.join(","),status:2};this.groupSetAdminAction(a).then(function(){e.getGroupChatInfoAction({self_uid:e.getUserId,group_id:e.friendsListStore.groupChatInfoList.data.group_id}),e.sheetVisible=!1})}}else Object(r.Message)({message:"请选择群成员",type:"warning",showClose:!0})}})},o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"manage_set"},[a("div",{staticClass:"head_manage"},[a("img",{attrs:{src:s("lK4b"),alt:""},on:{click:function(t){return e.closeFn()}}}),e._v(" "),a("span",[e._v("管理员设置")])]),e._v(" "),e.sheetVisible?a("div",{staticClass:"add_manage"},[a("div",{staticClass:"flex",staticStyle:{padding:"0 10px"}},[a("div",{staticClass:"t_search"},[a("img",{staticClass:"img-search",attrs:{src:s("xLn8"),alt:""}}),e._v(" "),a("form",{attrs:{action:"javascript:void 0"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.searchUser,expression:"searchUser"}],attrs:{type:"text",placeholder:"请输入联系人昵称"},domProps:{value:e.searchUser},on:{input:function(t){t.target.composing||(e.searchUser=t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"r_sure_manage",on:{click:e.addManagementFn}},[e._v("\n        添加\n      ")])]),e._v(" "),a("div",{staticClass:"t_add_manage"},[a("div",{staticClass:"c_user"},e._l(e.groupUserType3,function(t){return 3==t.role?a("div",{staticClass:"c_user_item flex",on:{click:function(s){return e.selectManage(t)}}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.head_portrait,expression:"u.head_portrait"}],attrs:{alt:""}}),e._v(" "),a("div",{staticClass:"flex-1 flex-between"},[a("span",[e._v(e._s(t.user_group_name||t.user_nickname))]),e._v(" "),t.checked?a("img",{staticStyle:{width:"25px",height:"30px","vertical-align":"middle"},attrs:{src:s("FM1l"),alt:""}}):e._e()])]):e._e()}),0)])]):a("div",{staticClass:"manage_list"},[a("p",[e._v("\n      群主\n    ")]),e._v(" "),a("div",{staticClass:"c_set_man"},e._l(e.groupUser,function(t){return 1==t.role?a("div",{staticClass:"c_man_users flex"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.head_portrait,expression:"i.head_portrait"}],attrs:{alt:""}}),e._v(" "),a("div",{staticClass:"c_man_select flex-1"},[e._v("\n          "+e._s(t.user_group_name||t.user_nickname)+"\n        ")])]):e._e()}),0),e._v(" "),a("p",[e._v("\n      管理员("+e._s(e.managementCount)+"/10)\n    ")]),e._v(" "),a("div",{staticClass:"c_set_man"},[a("div",{staticClass:"c_man_users flex",on:{click:e.openManage}},[a("img",{attrs:{src:s("d1bl"),alt:""}}),e._v(" "),a("div",{staticClass:"c_man_select flex-1"},[e._v("\n          添加管理员\n        ")])]),e._v(" "),e._l(e.groupUser,function(t){return 2==t.role?a("div",{staticClass:"c_man_users flex"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.head_portrait,expression:"i.head_portrait"}],attrs:{alt:""}}),e._v(" "),a("div",{staticClass:"c_man_select flex-between flex-1"},[e._v("\n          "+e._s(t.user_group_name||t.user_nickname)+"\n          "),a("img",{staticClass:"flex-shrink0",attrs:{src:s("/ZNt"),width:"20",alt:""},on:{click:function(s){return e.deleteSection(t)}}})])]):e._e()})],2)])])},staticRenderFns:[]};var u=s("VU/8")(c,o,!1,function(e){s("AjR/")},"data-v-2a07cf06",null);t.default=u.exports},xLn8:function(e,t,s){e.exports=s.p+"pcImstatic/img/icon_search.fc9628c.png"}});